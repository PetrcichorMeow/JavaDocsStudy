## 1. 用户输入网址到显示网页过程

```java
1. DNS 解析:将域名解析成 IP 地址，DNS端口号80，依次浏览器缓存，操作系统缓存，路由器缓存，ISP缓存，根服务器缓存中找
2. TCP 连接：TCP 三次握手
3. 发送 HTTP 请求
4. 服务器处理请求并返回 HTTP 报文
5. 浏览器解析渲染页面
6. 断开连接：TCP 四次挥手
```



## 2. TCP三次握手

1. **客户端发送一个带 SYN=1，Seq=X 的数据包到服务器端口**（第一次握手，由浏览器发起，告诉服务器我要发送请求了）
2. **服务器发回一个带 SYN=1， ACK=X+1， Seq=Y 的响应包以示传达确认信息**（第二次握手，由服务器发起，告诉浏览器我准备接受了，你赶紧发送吧）
3. **客户端再回传一个带 ACK=Y+1， Seq=Z 的数据包，代表“握手结束”**（第三次握手，由浏览器发送，告诉服务器，我马上就发了，准备接受吧）

通过三次握手可以确定客户端服务器的收发能力都没有问题。



## 3. 幂等性

![image-20210924192546317](C:\Users\pc\AppData\Roaming\Typora\typora-user-images\image-20210924192546317.png)

**幂等概念：**
在编程中一个幂等操作的特点是其任意多次执行所产生的影响均与一次执行的影响相同。通俗点说：重复发送同一个http请求多次，结果同发送一次。即不会产生任何副作用（数据资源的改变）。

**get**

<font color='red'>幂等</font>，仅仅只是查询，不会改变任何资源。

**put**

<font color='red'>幂等</font>，用于更新资源，没有则创建，后端只会存在唯一的一个资源。

**delete**

<font color='red'>幂等</font>，仅仅用于删除资源，没有则什么事情也不干。

**post**

<font color='red'>非幂等</font>，因为是用来创建资源的，每次调用都会产生一个新的资源

**patch**

<font color='red'>非幂等</font>，用于更新资源，但是只更新需要更新的部分，如果更改一个数量，原本为100，要改到400，就要增加300，每次请求都会增加300，无法保证幂等性。

